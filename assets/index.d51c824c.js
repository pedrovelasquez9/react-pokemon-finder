var _=Object.defineProperty,$=Object.defineProperties;var w=Object.getOwnPropertyDescriptors;var D=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var N=(e,t,o)=>t in e?_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,d=(e,t)=>{for(var o in t||(t={}))I.call(t,o)&&N(e,o,t[o]);if(D)for(var o of D(t))L.call(t,o)&&N(e,o,t[o]);return e},m=(e,t)=>$(e,w(t));import{c as k,a as b,b as x,j as a,P as j,d as s,u as O,F as A,e as g,f as E,r as h,B,R as F,g as S,h as M,i as U}from"./vendor.5b53d1c5.js";const H=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&r(p)}).observe(document,{childList:!0,subtree:!0});function o(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerpolicy&&(c.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?c.credentials="include":n.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(n){if(n.ep)return;n.ep=!0;const c=o(n);fetch(n.href,c)}};H();const V=async(e=null)=>{if(e)return await(await fetch(e)).json()},P="https://pokeapi.co/api/v2/pokemon",G=async(e=null)=>await(await fetch(`${P}/${e}`)).json(),i={SET_DATA:(e,t)=>m(d({},e),{data:t.payload,status:l.SUCCESS,error:null}),ADD_DATA:(e,t)=>m(d({},e),{data:e.data.concat(t.payload),status:l.SUCCESS,error:null}),REMOVE_DATA:(e,t)=>m(d({},e),{status:l.SUCCESS,data:e.data.filter(o=>o.id!==t.payload),error:null}),SET_DATA_ERROR:(e,t)=>m(d({},e),{status:l.ERROR,error:t.payload}),DEFAULT_DATA:e=>e},l={ERROR:"error",IDLE:"idle",SUCCESS:"success",PENDING:"pending",LOADING:"loading"},u=k("fetch/pokemonDetails",async e=>await V(e)),f=k("fetch/pokemonByName",async e=>await G(e)),q=e=>{e.addCase(u.fulfilled,i.SET_DATA).addCase(u.rejected,i.SET_DATA_ERROR).addCase(f.fulfilled,i.SET_DATA).addCase(f.rejected,i.SET_DATA_ERROR)},K={data:[],error:null,status:"idle"},z=b({name:"data",initialState:K,reducers:i,extraReducers:q});var J=z.reducer;const Q=e=>e[Math.floor(Math.random()*e.length)],W=()=>Math.floor(Math.random()*(888+1)),X=async()=>await(await fetch(`${P}?limit=10&offset=${W()}`)).json(),y=k("fetch/pokemonList",async()=>(await X()).results),Y=e=>{e.addCase(y.fulfilled,i.SET_DATA)},Z={data:[],error:null,status:"idle"},ee=b({name:"data",initialState:Z,reducers:i,extraReducers:Y});var te=ee.reducer;const ae={pokemons:te,pokemonDetails:J},oe=({children:e})=>{const t=x({reducer:ae});return a(j,{store:t,children:e})};var ne="/react-pokemon-finder/assets/main-back-1.9f38cbf5.jpg";const R=({btnFunction:e,isLoginPage:t=!1})=>s("section",{className:t?"pokeball-section-container-login":"pokeball-section-container",children:[a("section",{className:"pokeball-section pokeball-header"}),a("section",{className:"pokeball-separator "}),a("button",{className:t?"pokeball-btn pulse":"pokeball-btn",onClick:()=>e()}),a("section",{className:"pokeball-section pokeball-footer"})]}),re=()=>{const e=O();return a(A,{children:a(R,{btnFunction:()=>{e("/home")},isLoginPage:!0})})};function se(){return s("main",{className:"App",style:{backgroundImage:`url(${ne})`},children:[a("h1",{className:"main-page-title",children:"Pokemon finder"}),a("div",{className:"main-container",children:a(re,{})}),s("footer",{className:"main-footer",children:["Desarrollado en directo por Twitch en el canal de"," ",a("a",{href:"https://www.twitch.tv/programacion_en_esp",target:"_blank",children:"Programaci\xF3n en Espa\xF1ol"})," ","-"," ",a("a",{href:"https://github.com/pedrovelasquez9/react-pokemon-finder",target:"_blank",children:"Ver el c\xF3digo"})]})]})}var ce="/react-pokemon-finder/assets/pokeball.526e1913.png";const ie=({value:e,selectPokemon:t})=>{const{url:o,name:r}=e;return s("button",{id:r,className:"list-item",onClick:()=>t(o,r),children:[a("img",{src:ce,className:"pokeball-icon"}),a("span",{className:"pokemon-btn",children:r})]})},le=(e=null)=>{if(e){const t=document.getElementById(e);t.classList.add("animated-btn"),setTimeout(()=>{t.classList.remove("animated-btn")},1e3)}},de=({value:e})=>{const t=g();return a("li",{children:a(ie,{value:e,selectPokemon:(r,n)=>{le(n),t(u(r))}})})},v=({data:e})=>a("section",{className:"data-section",children:a("ul",{className:"main-ul",children:(o=>o.map((r,n)=>a(de,{value:r},n)))(e)})});const T=({message:e})=>a("div",{className:"error-msg-text",children:a("p",{children:e})}),C=({message:e})=>a("p",{children:e});const me=({name:e,imageUrl:t})=>a("div",{className:"card-image",children:a("div",{className:"card-container",children:a("img",{className:"pokemon-image",src:t,alt:e})})});const ue=({data:e})=>s(A,{children:[a("section",{className:"pokemon-card-name",children:a("h1",{children:e.name})}),s("section",{className:"pokemon-card-info",children:[s("div",{className:"pokemon-type",children:["Tipo: ",a("p",{children:e.types[0].type.name})]}),s("div",{className:"pokemon-weight",children:["Peso: ",a("p",{children:e.weight})]}),s("div",{className:"pokemon-height",children:["Altura: ",a("p",{children:e.height})]})]})]}),pe=()=>{const e=E(r=>r),t=e.pokemonDetails.status;let o=null;if((t===l.LOADING||t===l.PENDING)&&(o=a(C,{message:"Cargando..."})),t===l.ERROR&&(o=a("section",{className:"pokemon-card-container error-card-container",children:a(T,{message:"El Pokemon no existe o lo ha capturado otro entrenador",error:e.error})})),t==="success"&&e.pokemonDetails.data){const r=e.pokemonDetails.data,n=r.sprites.other["official-artwork"].front_default,c=r.name;o=s("section",{className:"pokemon-card-container",children:[a(me,{name:c,imageUrl:n}),a(ue,{data:r})]})}return o};const he=()=>{const e=g(),[t,o]=h.exports.useState(""),r=()=>{const n=t.trim();n&&(e(f(n)),o(""))};return s("div",{className:"grid-container",children:[a(R,{btnFunction:r}),a("input",{className:"search-input",type:"text",name:"searchPokemonInput",id:"searchPokemonInput",value:t,onChange:n=>o(n.target.value),onKeyUp:n=>{n.key==="Enter"&&r()}})]})},fe=()=>{const e=E(r=>r),t=g();h.exports.useEffect(()=>{t(y())},[]),h.exports.useEffect(()=>{e.pokemons.status==="success"&&e.pokemons.data.length>0&&t(u(Q(e.pokemons.data).url))},[e.pokemons.status]);let o=a(C,{message:"Cargando..."});return e.error&&(o=a(T,{message:"Ha ocurrido un error llamando a la API",error:e.error})),s("main",{className:"home-main-container",children:[s("header",{className:"home-section header-section",children:[a(he,{}),e.pokemons.status==="success"?a(v,{data:e.pokemons.data.slice(0,5)}):o]}),s("section",{className:"home-separator separator-section",children:[a(pe,{}),a("button",{className:"separator-btn"})]}),a("footer",{className:"home-section footer-section",children:e.pokemons.status==="success"?a(v,{data:e.pokemons.data.slice(5,10)}):o})]})};function ke(){return a(B,{basename:"/react-pokemon-finder",children:s(F,{children:[a(S,{path:"/",element:a(se,{})}),a(S,{path:"/home",element:a(fe,{})})]})})}M.render(a(U.StrictMode,{children:a(oe,{children:a(ke,{})})}),document.getElementById("root"));
